# IP 프로토콜
* 지정한 IP 주소에 데이터 전달
* 패킷(Packet)이란 단위로 데이터 전달
    * 패킷에 출발지, 목적지, 데이터 등이 다 들어있다


# IP 프로토콜의 한계
* 비연결성
    * 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
* 비신뢰성
    * 중간에 패킷이 사라지면?
        * 패킷을 전달하던 서버가 전달하던 등등 손실 가능
        * 그래도 손실됬는지 알 수 가 없다
    * 패킷이 순서대로 안오면?
        * 데이터를 나눠서 보내는데 경로가 다를 수 있음으로 순서가 바뀔 수 있다
* 프로그램 구분
    * 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?


# TCP 프로토콜
## 인터넷 프로토콜 스택의 4계층
1. 애플리케이션계층 - HTTP, FTP
2. 전송 계층 - TCP, UDP
3. 인터넷 계층 - IP
4. 네트워크 인터페이스 계층

# 프로토콜 계층
## 채팅시
1. 프로그램이 메시지 생성
2. SOCKET 라이브러리를 통해 전달
3. TCP 정보 생성, 메시지 데이터 포함
4. IP 패킷 생성, TCP 데이터 포함

# TCP/IP 패킷 정보
검증, 순서 등의 정보가 다 들어있다.


# TCP 특징
전송 제어 프로토콜

* 연결지향 - TCP 3 way handshake(가상 연결)
    * 먼저 연결을 한 다음 데이터를 보낸다
    * 물리적 연결
        * 직접적인 LAN 연결
    * 논리적 연결
        * 연결됬다고 가정
* 데이터 전달 보증
    * 데이터 누락여부 등을 확인 가능하다
* 순서 보장
* 신뢰할 수 있는 프로토콜이다


## TCP 3 way handshake
1. 클라이언트가 서버에 SYN 보냄
2. 서버가 SYN을 수신하면 클라이언트에 SYN, ACK를 보냄
3. 클라이언트가 SYN을 수신하면 ACK 보냄
4. 1, 2, 3이 정상적으로 수행되면 데이터 전송


## 데이터 전달 보증
1. 클라이언트가 서버에 데이터 전송
2. 서버가 받았다고 전송

## 순서 보장
패킷 순서가 잘못되면 다 버리고 잘못된 패킷부터 다시 보내게 된다


# UDP 특징
사용자 데이터그램 프로토콜

* 데이터 전달, 순서, 연결지향 등 아무것도 보장되지 않는다
* 단순하고 빠르다
* IP + PORT + 체크섬


# PORT 
같은 IP 내에서 프로세스 구분해 준다.


# DNS(Domain Name System)
IP는 기억하기 어렵고, 변경될 수 있다.
그래서 DNS를 사용한다

도메인 명과 IP를 연결해 준다.

DNS 서버에 도메인 명을 보내면 IP주소를 응답해준다.


# URI(Uniform Resource Identifier)와 웹 브라우저 요청 흐름
uri는 리소스를 식별하는 방법, URL(Resource Loactor), URN(Resource Name)으로 나뉜다.

## URI
* Uniform : 리소스 식별하는 통일된 방식
* Resource : 자원, URI로 식별할 수 있는 모든 것(제한 없음)
* Identifier : 다른 항목과 구분하는데 필요한 정보

* URL
    * Locator, 리소스가 있는 위치를 지정
* 위치는 변할 수 있지만 이름은 변하지 않는다
* URN 이름만으로 실제 리소스를 찾을 수 있는 방법은 보편화 되지 않는다


## URL
    scheme://[userinfo@]host[:port][/path][?query][#fragment]

* 주로 프로토콜 사용
* 프로토콜 : 어떤 방식으로 자원에 접근할 것인가 하는 약속 규칙
    * HTTP, HTTPS, ftp 등
* http는 80포트,https는 443 포트를 주로 사용, 포트는 생략 가능
* https는 http에 보안 추가(HTTP Secure)

* host
    * 호스트 명
* port
    * 접속포트, 생략 가능
* path 
    * 리소스 경로(path), 계층적 구조
* query
    * key=value 형태
    * ?로 시작 &로 추가 가능
    * query parameter, query string 등으로 불림, 웹 서버에 제공하는 파라미터, 문자 형태
* fragment
    * html 내부 북마크에 사용


# 웹 브라우져 요청 흐름
URI를 보낼때의 요청 흐름
1. DNS 조회를 통해 host로 ip주소를 받아 HTTP 요청 메시지를 생성한다
2. SOCKET 라이브러리를 통해 전달한다
    * TCP/IP 연결
    * 데이터 전달
3. 서버가 클라이언트에게 패킷을 보내면 ???? 


![Http 요청 메소드](https://mdn.mozillademos.org/files/13687/HTTP_Request.png)