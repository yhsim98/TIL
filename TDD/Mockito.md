# Mockito
* Mock
    * 가짜 객체
    * 진짜 객체와 비슷하게 동작하지만 
    * 프로그래머가 직접 그 객체의 행동을 관리하는 객체
* Mockito
    * Mock객체를 쉽게 만들고 관리하고 검증할 수 있는 방법을 제공하는 프레임워크

주로 외부 API, 데이터베이스 등을 테스트할 때 사용하게 됩니다.

Mock객체를 직접 설정하여 특정 매개변수를 받은 경우 특정한 값을 리턴하거나 예외를 던지도록 만들 수 있습니다.

특정 매개변수를 받거나 호출된 경우 예외를 발생시킬 수 있습니다

메서드가 동일한 매개변수로 여러 번 호출될 때 각기 다르게 행동하도록 조작할 수 있습니다.

## 사용법
`@ExtendWith(MockitoExtension.class)`확장자를 추가합니다

JUnit4의 경우 `@RunWith(MockitoJUnitRunner.class)를 추가하면 됩니다.

Mockito를 사용하여 mock 및 spy를 생성할 수 있도록 지원합니다.

## @ExtendWith
단위 테스트간에 공통적으로 사용할 기능을 구현하여 `@ExtendWith`을 통하여 적용할 수 있는 기능을 제공합니다. 

# BDDMockito
## TDD
테스트 주도 개발

테스트를 먼저 작성하고 나서, 테스트가 정상적으로 돌아갈 때까지 테스트를 하면서 코드를 작성하는 것.

* 단위 테스트
* 통합 테스트
* E2E 테스트
* 회귀 테스트
* 성능 테스트 등이 있다

장점
* 각 모듈의 역할이 단순하고 명확해진다
* 프로젝트의 유지보수와 확장이 쉽다
* 수동 테스트에서 시간을 단축할 수 있다 
등등

방법
1. 테스트 케이스 작성
2. 테스트 케이스 실행
3. 테스트 케이스가 실패한 부분에 대해서 코드 작성
    * 특정 객체나 메소드가 없다면 해당 코드 작성
    * 이것을 테스트 통과까지 반복
4. 테스트 케이스 다시 실행
    * 지금까지 개발 된 모든 테스트가 구현되었는지 확인
5. 코드 리펙토링

## BDD(Behavior Driven Development)
코드를 작성하기 전 코드가 수행할 행위에 대한 명세를 먼저 작성합니다

테스트 접근 시나리오를 정의, 이를 통해 개발자, 테스터 및 비즈니스 사용자가 쉽게 협업할 수 있도록 했습니다

시나리오는 개발자가 아닌 사람이 봐도 이해할 수 있을 정도의 레벨을 권장하며, 하나의 시나리오는 Given, When, Then 을 가지는 것을 기본 패턴으로 권장합니다

* Feature
    * 테스트 대상의 기능/책임을 명시
* Scenario
    * 테스트 목적에 대한 상황을 설명
* Given
    * 시나리오 진행에 대한 값을 설정
* When
    * 시나리오를 진행하는데 필요한 조건을 명시
* Then
    * 시나리오를 완료했을 때 보장해야 하는 결과를 명시

##  BDDMockito
Mockito는 BddMockito 클래스를 통해 BDD 스타일의 API를 제공합니다.

기존을 Mockito로는 given-when-then 패턴을 지키기 어려웠고, 이것을 해결하기 위해 BDDMockito가 등장했습니다.

기존 BDD의 given에 해당하는 위치에 `when()`이 아닌 `given()`메서드를 사용할 수 있습니다.

then에서 사용되는 `verify()`도 `then().should()`로 대체될 수 있습니다.