http://www.yes24.com/Product/Goods/74311553

# 목차
1. [데이터, 데이터베이스 그리고 DBMS](#데이터-데이터베이스-그리고-dbms)
    1. [데이터란 무엇일까요?](#데이터란-무엇일까요)
    2. [데이터베이스와 DBMS](#데이터베이스와-dbms)
2. [관계형 데이터베이스란?](#관계형-데이터베이스란)  
    1. [관계형 데이터베이스 개념과 특징](#관계형-데이터베이스-개념과-특징)
    2. [RDBMS의 종류](#rdbms의-종류)
3. [SQL 입문](#sql-입문)
    1. [SQL이란?](#sql이란)
    2. [SQL표준, SQL의 종류](#sql표준-sql의-종류)
    3. [테이블 생성](#테이블-생성)
4. [데이터 입력과 삭제](#데이터-입력과-삭제)
    1. 데이터 입력, INSERT문
    2. 데이터 삭제, DELETE문
    3. 테이블 생성과 데이터 입력 실습
5. 데이터 조회, SELECT문
    1. SELECT문의 기본 구문
    2. 조건에 맞는 데이터 조회하기
    3. 데이터 정렬하기
6. SQL 연산자와 함수
    1. SQL 연산자
    2. 주요 SQL 함수
    3. 기타 함수
    4. CASE 표현식
7. 데이터 집계
    1. GROUP BY 절과 집계 함수
    2. HAVING 절
8. 집합 쿼리
    1. UNION ALL
    2. UNION
    3. INTERSECT
    4. MINUS
9. 테이블 간 관계 맺기 - 조인
    1. 조인이란?
    2. 카티션 곱
10. 서브쿼리
    1. 서브쿼리란?
    2. 스칼라 서브쿼리
    3. 인라인 뷰
    4. 중첩 서브쿼리
    5. 세미 조인과 안티 조인
11. 데이터 입력과 삭제 그리고 수정
    1. 데이터 입력 -INSERT 두 번째
    2. 데이터 삭제 -DELETE 두 번째
    3. 데이터 수정 -UPDATE 
12. SQL 실습






# 데이터, 데이터베이스 그리고 DBMS

## 데이터란 무엇일까요?
현실 세계에 있는 많은 사실 중에서 중요하며 관리가 필요하고 기록해 놓을 만한 가치가 있는 것  
  
## 데이터베이스와 DBMS
컴퓨터가 발명되고 널리 사용되며 사람들은 데이터를 컴퓨터 파일에 저장하기 시작하였다. 이전에 비하면 효과적이었지만 많은 데이터를 다루기에는 부적합하였다. 

그래서 방대한 데이터를 효율적으로 관리할 수 있는 컴퓨터 프로그램인 데이터베이스 관리 시스템 DBMS가 탄생하게 되었다.

데이터베이스란 데이터를 모아 놓은 것으로, DBMS는 이런 데이터베이스에 데이터를 저장하고, 꺼내 보고, 수정하고 삭제하는 작업을 처리해 준다.

DBMS의 종류에는 계층형, 관계형, 망형, 객체 지향형 등이 있다.

# 관계형 데이터베이스란?

## 관계형 데이터베이스 개념과 특징
관계형 데이터베이스 관리 시스템 RDBMS는 관계형 모델을 기반으로 데이터베이스를 관리하는 시스템이다. 

관계형 모델이란 한마디로 테이블이라는 2차원 구조에 데이터를 성격에 맞게 분리해 가급적 중복되지는 않게 저장하고, 필요한 데이터는 테이블간에 관계를 맺어 추출하는 것이다.

데이터 관리는 크게 네가지 유형으로 나눌 수 있다.
1. 데이터 저장 관점
    * 필요한 데이터만 적재적소에 저장해 둔다
2. 데이터 조회 관점
    * 원하는 데이터를 손쉽게 찾아볼 수 있어야 한다 
3. 데이터 수정 관점
    * 특정 데이터만 골라내 원하는 값으로 수정할 수 있어야 한다.
4. 데이터 삭제 관점
    * 원하는 데이터만 골라내 지울 수 있어야 한다

이 네가지 관점을 잘 조율하며 데이터를 저장해야 한다.

### 데이터 저장소인 테이블
RDBMS는 2차원 구조의 테이블에 데이터를 저장한다. 

테이블은 행과 열, 즉 ROW와 COLUMN으로 되어 있다. 

칼럼은 테이블을 구성하는 데이터의 속성(Attribute)을 말하고, 로우는 지정된 칼럼 데이터로 이루어진 하나의 묶음이다. 

테이블을 만들 때는 컬럼에 대한 내용을 기술하게 된다. 이것이 RDBMS의 단점 중 하나인데 테이블 생성 시 컬럼의 유형을 정의하면 나중에 변경할 때 이 테이블을 사용한 프로그램을 모두 수정해야 하는 등 문제 발생 소지가 많다. 

이런 문제를 해결하기 위해 sns등 변화가 많은 데이터는 NoSQL 개념의 DBMS가 처리하고 있다.

### 관계 맺기 
중복되는 데이터는 따로 테이블을 만들고 특정 데이터를 가리키는 칼럼을 두는 것이 효과적이다. 

RDBMS의 가장 큰 특징인 관계는 이런 식으로 데이터의 성격에 맞게 테이블을 여러 개로 분리하고, 분리한 테이블 간에 연결고리 역할을 하는 칼럼을 두어 이 칼럼을 이용해 관계를 맺는 것을 말한다.

이렇게 데이터 성격에 맞게 테이블을 여러 개 만들고 이들 간의 관계를 결정하는 것을 데이터베이스 모델링이라 한다. 

### 키(Key) 컬럼
RDBMS에서는 데이터 무결성을 확보하고자 테이블에 반드시 하나의 키가 되는 컬럼을 두도록 권고하고 있다. 

* 데이터 무결성(integrity)
    * 데이터의 정확성을 보장해 올바른 데이터를 유지하는 것
    * 동명이인처럼 로우의 데이터가 겹칠 수 있는데 이런 데이터를 식별해 주는 칼럼을 키 칼럼이라 하고 이를 기본 키라 한다
    * 키 컬럼에는 유일한 값이 들어간다

이런 키는 특정 데이터를 수정하거나 삭제할 때 사용된다. 데이터를 서로 식별할 수 있게 해주어 엉뚱한 데이터가 수정 삭제되는 일을 막아준다.

키는 테이블간의 관계를 맺을 때도 사용된다. 한 테이블에 유일하게 로우를 식별하는 키를 기본 키, 다른 테이블의 기본 키와 연결고리가 되는 키를 참조 키라 한다. 

### 트랜잭션 처리
RDBMS에서 한 테이블에 있는 특정 데이터를 삭제한 후 연이어 새로운 데이터를 입력했을 때, 장애가 발생하면 작업 전 상태로 되돌리고, 입력 작업이 정상적으로 끝난 후에 모든 변경을 최종 적용하게 된다. 

RDBMS에서 트랜잭션 처리는 원자성, 일관성, 고립성, 지속성 이렇게 4가지 요소로 구성된다.

## RDBMS의 종류 
오라클, DB2, MS-SQL, MySQL, PostgreSQL, MariaDB 등이 있다.

# SQL 입문

## SQL이란?
Structured Query Language의 약자로 RDBMS와 소통하는 프로그래밍 언어이다. 

SQL은 질의, 집합적 언어이다. 데이터베이스를 상대로 데이터를 조회, 입력, 수정, 삭제하는 것이 질의에 속한다. SQL의 상대는 데이터이고 데이터는 테이블에 저장되어 있다. 테입르은 특정 목적과 성격에 맞는 데이터를 모아 놓은 데이터 저장소이고, SQL은 임의의 조건에 부합한다면 이를 충족하는 데이터 전체를 읽거나 삭제하거나 수정하거나 입력하는 기능을 수행한다. 즉, 데이터를 한 건씩 처리하는 것이 아니라 조건에 맞는 데이터 전체를 한 번에 처리하기 때문에 SQL을 집합적 언어라고 한다.

## SQL표준, SQL의 종류
SQL에는 표준이 있지만 RDBMS상용제품이 나온지 한참후에야 표준이 나왔기 때문에 약간의 문제가 있었다. 하지만 표준을 준수하는 방항으로 RDBMS들도 버젼업되고 있다.

SQL은 네가지 유형으로 나눌 수 있다.

### DDL 
RDBMS에는 테이블 외에도 뷰, 인덱스, 시퀸스 등 여러 데이터베이스 객체가 있다. 이 객체들을 생성하고 삭제하고 수정하는 데 사용되는 SQL을 DDL(Data Definition Language)라고 하며, DDL에는 다음과 같은 것이 있다.

* CREATE : 객체를 생성
* DROP : 객체를 삭제
* ALTER : 객체를 변경
* TRUNCATE TABLE : 테이블에 있는 모든 데이터를 삭제
* RENAME : 객체 이름을 변경

### DML
DML(Data manipulation Language)은 가장 많이 사용하는 SQL 문이다.

* SELECT : 테이블이나 뷰에서 데이터를 조회한다
* INSERT : 데이터를 입력한다
* UPDATE : 기존에 저장된 데이터를 수정한다
* DELETE : 테이블에 있는 데이터를 삭제한다
* MERGE : 조건에 따라 INSERT와 UPDATE를 수행한다

### TCL
TCL(Transaction Control Language)은 트랜잭션을 처리하는 SQL 문이다.
* COMMIT : DML로 변경된 데이터를 DB에 적용한다
* ROLLBACK : DML로 변경된 데이터를 변경 이전 상태로 되돌린다

실수로 중요한 데이터를 모두 삭제했을 때, 이런 실수를 방지할 수 있도록 한 번 더 체크하는 기능을 수행한다. 

### DCL
DCL(Data Control Language)은 객체에 대한 권한을 할당하거나 회수하는 SQL문이다.

* GRANT : 객체에 대한 권한을 할당한다
* REVOKE : 객체에 할당된 권한을 회수한다

## 테이블 생성

### 테이블 생성 구문
테이블은 CREATE TABLE 구문으로 생성한다.

    CREATE TABLE table_name (
        column_name1 datatype [NOT] NULL,
        column_name2 datatype [NOT] NULL,
        ....
        PRIMARY KEY ( column_list )
    );

* table_name : 테이블 이름을 명시
* column_name : 컬럼 이름을 명시
* datatype : 컬럼의 데이터 유형을 명시
* NULL : 해당 칼럼이 NULL을 허용할지 여부를 명시, 생략하면 NULL을 허용한다는 의미

### 컬럼의 데이터형 
* 문자형 
    * CHAR(n) : 고정길이문자, 최대 2000byte
    * VARCHAR2(n) : 가변 길이 문자, 최대 4000byte
* 숫자형
    * NUMBER[(p, [s])] p(1 ~ 38), 디폴트 값은 38)와 s(-84 ~ 127, 디폴트값은 0)는 십진수 기준, 최대 22byte
* 날짜형
    * DATE : BC 4712 년부터 9999년 12월 31일까지 년, 월, 일, 시, 분, 초까지 입력 가능
    
문자형 데이터형의 괄호 안 n은 숫자를 의미한다. (10)이면 10byte 사용하겠다는 소리다.

숫자형에서 대괄호는 생략이 가능하다는 의미이다. 크기를 지정하지 않으면 기본적으로 38자리 숫자까지 들어간다. 즉, p값을 지정하지 않을 경우 자동으로 데이터를 39자리 크기로 만들어 준다.

NULL은 데이터가 없음을 의미한다. 만약 NOT NULL로 만들었다면 해당 칼럼에는 반드시 값이 들어가야 한다.

### 기본 키
기본 키 칼럼은 테이블에서 유일한 값을 식별하는 역할을 하며, 테이블 당 1개만 만들 수 있다. 기본 키를 구성하는 칼럼이 1개 뿐인 경우는 칼럼 정의시 PRIMARY KEY 구문을 넣어 생성할 수 있다. 기본 키 칼럼에는 반드시 NOT NULL을 명시해야 한다.

# 데이터 입력과 삭제