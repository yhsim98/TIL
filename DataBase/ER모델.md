# ER 모델(개체-관계-모델)
개체 타입과 관계 타입을 이용해서 현실 세계의 데이터를 개념적으로 표현하는 개념적 데이터 모델

* 단순하다는 장점 때문에 현재 가장 널리 사용된다
* 개체와 속성, 관계라는 3가지 기본 요소로 구성되며, ER다이어그램으로 표현된다
* 사용자 즉, DB 설계자를 위한 모델이므로 DBMS는 이해할 수 없다

개체, 관계, 속성으로 구성되어 있다

# 개체
* 현실 세계에 존재하면서 서로 구별되는 유형, 무형의 정보 대상으로, 파일 시스템에서 레보드에 대응한다
* 단독으로 존재 가능하고, 정보로서의 역할이 가능하다
* 둘 이상의 속성으로 구성된다
* ER 다이어그램에서 직사각형

## 개체 종류
* 개념적 개체(무형의 개체)
    * 개념적으로는 존재하지만 눈에 보이지 않는 개체
    * 약속, 사건 등
* 물리적 개체(유형의 개체)
    * 현실 세계에 존재하면서 눈에 보이는 개첼
    * 사람, 상품 등

## 개체 관련 주요 개념들
### 개체 타입(Entity Type) 
개체의 정의, 즉 개체의 이름과 개체를 구성하는 속성들을 정의한 것
### 개체 인스턴스(Entity Instance)
속성들이 값을 가져 실체화된것. 초기화 된것?
### 개체 집합
인스턴스들의 집합
### 속성
개체의 특성을 나타내는 요소


# 속성
* 개체나 관계의 특성을 나타내는 요소
* 파일 시스템에서 데이터 항목 혹은 필드에 대응함
* 단독으로 존재할 때는 대개 무의미함
* ER 다이어그램에서 타원형

## 상수 속성과 시변 속성
* 상수 속성
    * 시간이 지나도 값이 변하지 않는 속성
    * 주민번호, 혈액형 등
* 시변 속성
    * 갱신함에 따라 값이 변할 수 있는 속성
    * 주소, 키 등

## 단순 속성과 복합 속성
* 단순 속성
    * 더 이상 작은 구성요소로 분해할 수 없는 속성
    * 회원번호, 이름, 연락처 등
* 복합 속성
    * 독립적인 의미를 갖는 단순 속성들로 분해할 수 있는 속성
    * 주소 등

## 단일치 속성과 다중치 속성
* 단일치 속성(Single valued Attribute)
    * 특정 개체에 대해 반드시 하나의 값만 갖는 속성
    * 학번, 이름, 주민번호 등
* 다중치 속성(Multi-valued Attribute)
    * 특정 개체에 대해 여러 개의 값을 가질 수 있는 속성
    * 연락처(집, 직장, 휴대폰 등), 취미 등
    * **다이어그램에서 이중선 타원**으로 표현함


## 유도 속성과 저장 속성
* 유도 속성 
    * 속성의 값이 다른 관련된 속성이나 개체가 갖고 있는 값으로부터 유도되어 결정되는 속성
    * **다이어그램에서 점선 타원**으로 표시
    * 의존관계가 있는 속성
    * **의존관계가 있는 친구에게 점선으로 연결**해 준다
* 저장 속성  
    * 유도 속성을 결정하기 위해 사용된 속성

## 널 속성
널 값을 갖는 속성, 값이 없는 것이랑은 다르다.

개체 인스턴스가 특정 속성에 대한 값을 갖고 있지 않다는 것을 명시적으로 표시하기 위한 것

널 값을 갖는 경우
* 어떤 속성의 값이 그 개체에 해당되지 않는 경우
    * 학생 개체의 여학생인 경우 군필여부 속성 값
* 어떤 속성 값을 알 수 없는 경우
    * 값이 존재하지만 값이 누락된 경우
    * 값이 존재 여부를 모르는 경우

## 키 속성과 부분키 속성
* 키 속성
    * 개체 집합에서 각 개체 인스턴스를 유일하게 구별해주는 속성 또는 속성들의 집합
    * 식별자(Identifier) 또는 기본키(Primary key)라고 함
    * 다이어그램에서 일반 속성과 같이 표현하지만 **밑에 밑줄** 넣어준다
* 부분키 속성(Partial Key Attribute)
    * 개체를 식별할 수 있는 키를 형성하기에 충분한 속성을 갖지 못한 약한 개체 타입의 부분적인 식별자
    * 약한 개체들 사이에서만 구별이 되는 식별자이다
    * **속성 밑에 점선**


# 관계
* 개체들 간의 의미 있는 연결 또는 연관성을 의미하는 요소
* 관계도 하나의 개체로 간주될 수 있음
* 관계도 속성을 가질 수 있다
* 두 개체 사이에 관계가 여럿 존재 가능하다(다중관계라 한다)

'사원' 개체와 '부서' 개체간의 '근무하다' 라는 관계

**다이어그램에서 마름모**로 표시한다


## 관계 타입의 속성
관계 타입은 관계의 특성을 나타내는 속성을 가질 수 있지만, 키 속성은 가지지 않는다.

예)
강의하다 -> 시간, 강의실

## 관계 유형
### 일대일 유형
어느 개체를 기준으로 보더라도, 한 개체 인스턴스가 다른 개체 인스턴스 하나와만 관계가 있는 유형

### 일 대 다 또는 다 대 일 유형
한 개체 인스턴스를 기준으로 보면 여럿과 관계되 있고 여럿인 개체 입장에서는 하나의 개체 인스턴스만 연결되어 있는 유형

두 유형이 같은 것은 아니다 그냥 같은 과인것

### 다 대 다 유형
두 개체 가운데 어느 개체를 기준으로 잡아도 여럿이랑 연관된 유형
  

## 관계 구분
### 속성 관계
한 개체에 속하는 속성과 속성 사이의 연관성을 의미함

### 개체 관계
개체와 개체 사이 관계, 그냥 관계면 개체관계

## 카디널리티
하나의 개체에 다른 개체가 몇 개 대응하는지 최대 최소 나타내는 것

## 차수(Degree)
관계로 연결된 개체 타입의 개수

1진 관계, 2진 관계, n진 관계 등으로 구분한다

너무 많이 연결되면 관리하기 힘들다

## 다중 관계
두 개체 사이에 여러 관계가 존재하는 것


## 순환 관계
하나의 개체 타입이 동일한 관계 타입에 두 번 참여하는 것

자기 참조 관계라고도 한다

ex)
한 부품이 다른 부품이랑 관계있거나 그 부품도 다른 부품이 랑 관계있고 그런 것?

## 역할
관계 타입에서 의미를 명확히 하기 위해 관계 타입의 간선 위에 역할 표시한 것

순환 관계의 경우 하나의 개체 타입이 여러 역할을 하기 때문에 표기하는 것이 좋다


# ER 다이어그램
개념적 데이터 모델인 ER 모델을 그래픽 방식으로 표현하는 방법

## 작성지침
* 개체 타입은 키 속성 이외에 개체 타입을 설명하는 속성을 가짐
* **다중치 속성**은 추후 별도의 개체 타입으로 분류해야 함
* 개체 타입을 직접적으로 설명하는 속성들을 개체 타입과 연결함
* 관계 타입은 일반적으로 독자적으로 존재할 수 없음
* 키 속성에는 실선으로 밑줄을 표시함

## 특징
* 다 대 다 관계 표현 가능
* 다원 관계를 표현 가능
    * 3진 관계 같은 거
* 다중 관계 표현 가능
    * 두 개체 타입 사이에 둘 이상의 관계가 존재하는 것 표현 가능
* 관계 타입도 관계를 설명하는 속성을 가질 수 있음



# 강한 개체 타입
독자적으로 존재하며, 개체 타입 내에서 자신의 키를 사용해서 고유하게 개체를 식별할 수 있는 개체 타입

다이어그램에서 일반 직사각형으로 표시

# 약한 개체 타입
키를 형성하기에 충분한 속성을 갖지 못한 개체 타입

반드시 소유 개체 타입(Owner Entity Type)이 있어야 하며 약한 개체 타입의 부분키와 소유 개체 타입의 키 속성을 결합해야 약한 개체 인스턴스를 구별 가능

각 소유개체별 약한 개체가 따로 있는 것이 아니라 소유개체별 약한개체를 한 테이블에 전부 모아놨다. 그래서 소유개체의 식별자가 필요하다

**다이어그램에서 겹줄 직사각형**으로 표현한다.

### 예시
소유개체는 사원 약한개체는 가족이라면  
가족은 서로 배우자 장남 차남 등으로 구별되고  
어떤 사원의 장남과 차남인지는 소유개체의 사번으로 결정된다. 


# 존재 종속
한 개체 타입의 존재가 다른 개체 타입의 존재에 영향을 받는 경우 존재존속이라 한다. 의존관계?

# 구별자(부분 키)
하나의 강한 개체 타입과 연관된 약한 개체 집합에서 자기들끼리 구별할 수 있는 속성

**점선으로 밑줄** 표시한다.

# 식별 관계 타입
소유 게체의 키와 약한 개체의 구별자를 연관시켜서 약한 개체 구별할 수 있게 하는 관계를 의미한다. 

**겹줄 마름모**로 표현한다.


# 관계 참여 유형
## 부분 참여
어떤 개체 타입의 일부가 다른 개체타입과 연관될 수 있는 것

각 인스턴스마다 연관될 수 도 있고 아닐 수 도 있기 때문에 카디널리티의 최솟값이 0이다.

## 전체 참여
해당 개체 타입의 모든 인스턴스가 반드시 다른 개체 타입과 연관되는 유형이다.

**ER다이어그램에서 두줄로 나타낸다.**

연관되어 있더라도 한 개체 타입은 부분참여, 다른 개체 타입은 전체 참여 같은 식으로 다를 수 있다.

# 강화된 ER 모델(Enhanced ER, EER)
보다 완전하고 정확한 모델링을 위해 기본적인 ER 모델에 몇 가지 새로운 개념을 추가한 것

# EER 특징
기본 ER모델에  
**서브타입/슈퍼타입**, 세분화/일반화, 카테고리, 속성 상속 등의 개념이 추가되어 있다.

# 서브 타입 개체
한 개체 타입에 속하는 개체들을 어떤 기준에 의해 몇 개의 소규모 그룹으로 나눈 것.

하위 개체이며 부분 집합이다.

예) 학생 -> 여학생, 남학생


# 슈퍼 타입 개체
여러 개체 타입이 속하는 사위의 개체 타입을 슈퍼타입 개체라고 한다.


# 슈퍼-서브 관계(ro is-A 관계)
ER다이어그램에서는 역삼각형 또는 작은 원으로 표시한다.

서브타입 개체는 슈퍼타입 개체의 모든 속성을 상속받는다.

