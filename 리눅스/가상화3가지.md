# 가상화 

# 호스트 가상화
Base가 되는 Host OS 위에 Guest OS가 구동되는 방식, VMware 같은 것

* 장점
    * 가상의 하드웨어를 에뮬레이팅하기 때문에 호스트 운영체제에 크게 제약사항이 없음
* 단점
    * OS위에 OS가 얹히는 방식이기 때문에 오버헤드가 클 수 있음

![](https://tech.cloud.nongshim.co.kr/wp-content/uploads/2018/09/Image0.png)


# 하이퍼바이저 가상화
Host OS없이 하드웨어에 하이퍼바이저를 설치하여 사용하는 방식. Xen, KVM 등이 있다.

* 장점
    * 별도의 Host OS가 없이 때문에 오버헤드가 적고, 하드웨어를 직접 제어하기 때문에 효율적으로 리소스를 사용할 수 있음
* 단점
    * 자체적으로 머신에 대한 관리 기능이 없기 때문에 관리를 위한 컴퓨터나 콘솔이 필요함

![](https://tech.cloud.nongshim.co.kr/wp-content/uploads/2018/09/Image.png)

하이퍼바이저는 전가상화와 반가상화로 분류된다

## 전가상화
하드웨어를 완전히 가상화하는 방식 Hardware Virtual Machine

하이퍼바이저를 구동하면 DOM이라 하는 관리용 가상 머신이 실행되며, 모든 가상머신들의 하드웨어 접근이 DOM을 통해서 이루어진다.

* OS에 독립적이다, 윈도우나 리눅스 맥에서 내려오는 명령을 알맞게 번역하여 전달함
* 가상화된 OS들에게 자원을 할당하는 역할도 담당한다

* 장점
    * 하드웨어를 완전히 가상화하기 때문에 Guest OS 운영체제의 별다른 수정이 필요 없음
* 단점
    * 하이퍼바이저가 모든 명령을 중재하기 때문에 성능이 비교적 느림

## 반가상화
하드어를 완전히 가상화하지 않는다

전가상화의 가장 큰 단점인 성능저하를 해결하기 위해 하이퍼콜(Hyper Call)이라는 인터페이스를 통해 하이퍼바이저에게 직접 요청을 날릴 수 있다

가상화된 각 OS에서 번역

* 장점
    * 전가상화에 비해 빠름
* 단점
    * 하이퍼바이저에게 Hyper Call요청을 할 수 있도록 각 OS의 커널을 수정해야 하며 오픈소스 OS가 아니면 반가상화를 이용하기가 쉽지 않음

## 컨테이너 가상화
호스트 OS위에 컨테이너관리 소프트웨어를 설치하여, 논리적으로 컨테이너를 나누어 사용

컨테이너는 어플리케이션 동작을 위한 라이브러리와 애플리케이션으로 구성되기 때문에 이를 각각 개별 서버처럼 사용 가능 

## 출처
https://tech.cloud.nongshim.co.kr/2018/09/18/%EA%B0%80%EC%83%81%ED%99%94%EC%9D%98-%EC%A2%85%EB%A5%983%EA%B0%80%EC%A7%80/
