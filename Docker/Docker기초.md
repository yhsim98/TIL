# Docker 란?
컨테이너 기반의 오픈소스 가상화 플랫폼으로 

하드웨어 가상화 없는 격리된 환경에서 프로세스를 실행시킵니다. 

도커 파일을 작성해서 빌드를 통해 이미지를 생성하고 구동시키면 도커 컨테이너 위에서 실행이 된다.

운영체제에 독립적이다.

## 리눅스 컨테이너
리눅스 상에서 여러 개의 격리된 리눅스 시스템을 동작시키기 위한 운영체제 가상화 기술

리눅스 커널(Kernel) 위에 Libvirt가 돌아가며 그 위에 컨테이너가 올라가는 방식

다양한 프로그램, 실행환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 해줍니다.

DB, 백엔드 서버, 메시지 큐등 어떤 프로그램도 컨테이너로 추상화할 수 있고 어디서든 실행할 수 있습니다.

## 컨테이너는 VM 인가요?
* VM은 하드웨어를 가상화
    * 소프트웨어로 구현된 하드웨어
* 컨테이너는 하드웨어 가상화가 아니다
    * OS에서 지원하는 기능을 사용한다
    * 격리된 환경에서 실행되는 프로세스


## 컨테이너 vs VM
* 가상머신은 OS를 가상화하여 사용하는 방식
* 느리고 무겁다
* 그래서 CPU의 가상화 기술을 이용한 KVM(Kernel-based virutal machine)과 반가상화(Paravirtualization)방식의 Xen이 등장

### KVM
리눅스 커널 기반 전가상화 오픈소스 하이퍼바이저

* 하이퍼바이저 
    * 가상 머신(VM)을 생성하고 구동하는 소프트웨어
    * 호스트 컴퓨터에서 다수의 운영 체제를 동시에 실행하기 위한 논리적 플랫폼
    * 단일 하드웨어에서 여러 다른 가상 머신을 호스팅할 수 있는 프로그램
    * 하이퍼바이저 운영 체제와 가상 머신의 리소스를 분리해 VM의 생성과 관리를 지원
    * VM간의 운영체제 리소스 재배치를 쉽게 수행 가능하다


## Linux와 Docker
Linux에는 cgroups, namespaces, netlinke 등 프로세스를 실행시킬 때 해당 프로세스를 다른 환경으로 격리시킬 수 있는 리눅스 커널이 있다.

Docker는 해당 커널들을 이용하여 격리된 프로세스.

## 이미지
* 특정 프로세스를 실행하기 위한 환경
    * 계층화된 파일 시스템
    * 이미지는 파일들의 집합
    * 프로세스가 실행되는 환경도 결국 파일들의 집합

## Immutable Infrastructure
특정한 소프트웨어가 자주 수정되는 경우 문제가 발생할 수 있다. 그래서 그냥 **서버를 구축한 이후에는 변경이나 업데이트를 할 수 없도록 하고**, 문제 시 그냥 삭제해버리는 것


# 우분투 환경에서의 설치
우분투에서 패키지로 직접 설치하는 방법입니다

    sudo apt-get update
    sudo apt-get install docker.io
    sudo ln -sf /usr/bin/docker.io /usr/local/bin/docker

/usr/bin/docker.io 실행파일을 /usr/local/bin/docker 로 