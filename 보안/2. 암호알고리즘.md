# 암호알고리즘
* 좁은 의미 : 암호화 복호화 과정에 사용하는 수학 함수
    * 비밀성 서비스 제공이 목적
* 넓은 의미 : 암호 기술에서 사용하는 모든 알고리즘
    * 다양한 목적
* 현대 암호화 함수와 복호화 함수는 모두 키를 사용
    * ``E. K(M) = C, D.K(C) = M
* 암호키(cryptographic key) : 암호화/복호하에 사용하는 키
    * 현대 알고리즘의 안성성은 키에 의존하고, 알고리즘 자체는 공개한다

## 제한적 알고리즘
현대 알고리즘의 안성성은 키에 의존해야 한다

키 대신에 알고리즘의 비밀성에 의존할 경우 **제한적 알고리즘**이라 한다.

제한적 알고리즘
* 장점
    * 해독하기가 힘듦
* 단점
    * 알고리즘을 공유할 수 없음
    * 역공학의 가능성이 존재함
    * 노출될 경우에는 알고리즘 자체를 변경해야 함

키 의존 알고리즘
* 장점
    * 알고리즘 공유가 가능
    * 키가 노출되면 키 자체만 변경 가능
    * 알고리즘이 공개되어 있으므로 허점의 발견이 용이함
        * 알고리즘 개선에 사용
* 단점
    * 알고리즘이 공개되어 있으므로 허점의 발견의 용이함
    * 악의적인 목적으로 사용 가능

## 키용어
사용 기간 또는 횟수에 의한 분류
* 단기간키, 세션키, 일회용키
    * 매우 제한적으로 사용하는 키
    * 생성 후 일시적으로 사용 후 폐기하는 키
    * 비휘발성 메모리에 유지할 필요가 없는 키
* 장기간키, 다중사용키
    * 여러 번 사용하는 키로 비휘발성 메모리에 유지해야 하며, 안전한 키 관리가 중요함

## 암호 알고리즘의 분류
결정적 vs 확률적
* 결정적 알고리즘 : 입력이 같으면 항상 같은 결과를 반환
* 확률적 알고리즘 : 같은 입력이라도 결과가 항상 다름

대칭 vs 비대칭
* 대칭 알고리즘 : 암호화할 때 사용하는 암호키와 복호화할 때 사용하는 암호키가 같은 암호알고리즘
* 비대칭 암호알고리즘 : 암호화할 때 사용하는 암호키가 복호화할 때 사용하는 암호키가 다른 암호알고리즘


## 대칭 암호 알고리즘
* 비밀키 알고리즘
* 암호화하는 사람과 복호화하는 사람이 같은 키를 가지고 있어야 함
* 종류
    * 스트림(stream) 암호방식 : 평문의 각 바이트를 하나씩 암호화하는 방식
    * 블록(block) 암호방식 : 평문을 일정한 블록 크기로 나누어, 각블록을 암호화 하는 방식

## 합성 암호 알고리즘

# 암호화 모드
블록 암호방식을 사용하는 대칭 알고리즘은 항상 고정된 크기의 블록을 입력으로 사용함

블록방식은 항상 입력의 크기가 같기 때문에 입력의 크기가 부족하면 평문을 블록크기로 만들기 위한 **채우기**가 필요하고 크면 나누어야 한다

* 암호화 모드 : 블록 암호방식에서 블록 크기보다 큰 평문을 암호화하는 방법을 말함

가장 단순한 암호화 모드는 나누어진 개별 평문 블록들을 독립적으로 암호화하는 ECB, 지금은 안씀

## 대칭 암호알고리즘의 사용 용도
* 공개 채널로 전달하는 메시지에 대한 비밀성 보장
    * 송수산자가 공유하는 비밀키로 메시지를 암호화하여 교환함으로써 제 3자가 도청하여도 내용을 알 수 없게 한다
* 기억장치에 저장하는 데이터에 대한 비밀성 보장 
    * 다른 사용자가 저장된 데이터를 열람할 수 없도록 데이터를 암호화하여 저장할 수 있음. 키의 백업이 중요하다(랜섬웨어)
* 개체 인증
    * 서로가 비밀키를 공유하고 있는 경우 서로가 서로임을 확신할 수 있음


## 법 강화를 위한 키 위탁
키 위탁은 키를 복구하기 위해서도 유용하게 사용될 수 있음

# 비대칭 알고리즘
공개키와 비밀키를 사용

각 사용자는 공개키는 공개하고 개인키는 비밀스럽게 유지함

공개키 알고리즘이라고도 한다.

## 사용용도
대칭 알고리즘과 같은 용도로 사용 가능하지만, 상대적 성능문제 때문에 보통 메시지 자체를 암호화하는데 사용되지 않는다.

이 때문에 다음과 같은 하이브리드 방식을 많이 사용함
* {M}.k, {K}.+Ka
* 공개키는 작은 정보만 암호화, 나머지는 개인키로

# 인증서
공개키를 인증할 때 사용되는 전자문서

신뢰할 수 있는 인증기관이 전자서명하여 생성함

인증기관이 공개키를 공증해 준다

## 인증서의 검증
사용자들은 다른 사용자의 공개키를 사용하기 전 인증서를 검증하여 공개키의 사용자를 확인해야 함

인증서를 검증하기 위한 절차
1. 인증서의 서명 확인
2. 인증서의 유효기간 확인
3. 인증서의 사용 용도 확인
4. 인증서의 폐지 여부

위 4가지 단계를 통해 한 번 확인된 인증서는 보통 캐시(또는 파일 시스템)에 보관하며, 이 인증서를 같은 용도로 다시 사용할 경우 유효기간과 폐지기간만 확인함







