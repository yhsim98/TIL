cookie session JWT(json web token)

cookie는 클라이언트에 저장
유효시간이랑 용량도 있다
팝업창 하루동안 안키는거 같은거


쿠키랑 세션은 같은거
세션은 쿠키를 사용하는 특이한 방법 중 하나

세션은 쿠키 기반의 사용자 정보 파일을 브라우저가 아닌 서버측에서 관리?

세션의 값은 각 브라우저 간의 구별을 위해 세션 키를 생성하고 있고 이 키는 쿠키로 보관되어 공유를 하게 된다. 세션의 값은 서버측에서 보관이 되지만 그를 가져올 수 있는 키는 쿠키로 보관?

**세션은 서버에서 관리한다**
**토큰은 서버에서 제어할 수 없다**
서로 장단점이 정확히 반대라나 뭐라나

TCP : 신뢰 연결지향
UDP : 비신뢰 연결x

UDP가 빠르다?


암호화에는 단방향 양뱡향

공개키 개인키

개인키는 

공개키는 비공개키로 암호화 

비밀번호는 인증서로 클라이언트에서 암호화



양뱡향 통신 
개인키 -> 해시로 압축 -> 공개키 -> 전송 ???

HASH 하면 무결성 보장해준다


bcrypt 
keystrecting을 통해 보안의 강도를 손쉽게 조작할 수 있다
반환되는 길이는 60자로 통일 



JWT 
Json 기반의 token 가지고 통신

scale up -> 

scale out -> 

헤더나 페이로드나 공개된 값이지 암호화된 값이 아니다

H.P.signature

H, P 와 서버만 알고있는 서명 key 값이랑 같이 HASH 해주면 누가 만들었는지 알 수 있다. key를 알아야 하기 때문에 자기가 만든 값이라는 것을 알 수 있다.




대칭키 : 보낸쪽과 받는 쪽이 같은 방식으로 복호화, 같은 키를 고유한다

누군가 한쪽만 탈취되도 보안에 문제가 생김


비대칭키(공개키) : 보낸 쪽과 받는 쪽이 다른 키를 사용
서버는 서버만 알고있는 개인키를 가지고 공유키를 대중에게 공개한다

개인키로 암호화한것은 공유키로만 복호화
반대도 마찬가지


handshake 
공유키가 유효한지 확인하는 일련의 작업
1. 클라이언트가 랜덤 데이터를 서버에 전송
2. 서버가 랜덤 데이터 + 서버 인증서 전송
3. 이걸로 handshake 성립

인증서가 유효한지 CA 공개키로 복호화로 유효확인 


하지만 전부 비대칭키로 주고받는 것은 부담이 되기 때문에 대칭키 공개키 둘 다 사용한다.
대칭키의 탈취위험이 있기 때문에 키의 전송을 공개키 방식으로 한다.

1. handshake시 주고받은 데이터를 혼합해서 임시 키 공개키로 암호화해서 전송
2. 이걸로 어찌저찌해서 대칭키로 만듬