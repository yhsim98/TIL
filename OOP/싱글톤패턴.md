# 싱글톤(singleton) 패턴
클래스가 오직 하나의 객체만 가지도록 해주고, 이 객체에 대한 광역적 겁근 방법을 제공한다.    
필요한 시점(lazy instantiation)에 만들도록 한다.

# 자바의 싱글톤
자바는 new를 이용하여 객체를 생성하고 new는 생성자를 피연산자로 사용한다.  
public 생성자를 제공하면 객체 생성을 제한할 수 없기에 생성자를 private로 만들고 별도 메소드를 구현한다.  

    public class Singleton{
        private static Singleton unique = null;
        private Singleton(){}
        public static Singleton getInstance(){
            if(unique == null) unique = new Singleton();
            return unique;
        }
    }


# 싱글톤의 문제

## 다중쓰레드 문제점
Multithread(다중쓰레드) 환경에서는 여러 객체가 생성될 수 있다.

## 다중쓰레드 해결책
* 메소드 동기화
    * 내부적으로 잠금 기술을 사용하여 한 쓰레드가 실행되고 있을 때 다른 쓰레드를 실행할 수 없도록 한다
    * 추가 비용이 발생할 수 있고, getInstance를 호출할 때 마다 불필요한 기다림이 있을 수 있다
* 동기화 블록과 volatile 
    * double-checked locking이라 한다
* eager instantiation
    * 실행될 때 그냥 만들어버리는 방법
    * 불필요하게 너무 일찍 생성하여 자원낭비가 될 수 있다
    * final 키워드가 사용 가능하다
* 내부 클래스 사용

## clone 문제
clone을 지원하는 클래스를 상속받아 singleton을 만들 경우 clone을 사용하지 못하도록 해줘야 한다.

# 싱글톤에 대한 반대 논리
* 광역 변수 개념과 닮았다
    * 어느 위치에서나 접근 가능
* 하나만 필요하다고 단정할 수 없다
* 테스트 과정에서 싱글톤으로 모델링 된 것이 불편하다

# 스프링의 싱글톤 패턴
스프링은 빈을 등록할 때 범위를 지정할 
