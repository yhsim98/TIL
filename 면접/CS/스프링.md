## filter
spring context 범위 밖에 있다

요청과 응답을 정제하는 작업을 합니다

## interceptor
컨트롤러에 대한 요청을 가로채는 방식으로 동작합니다

보통 인증 권한체크 등을 담당합니다

## @SpringBootApplication이란?
이 어노테이션을 바탕으로 하위에 있는 어노테이션들을 읽어와 빈을 등록해준다

항상 최상단에 위치해야 함

SpringApplicaiton.run()을 통해 내장 WAS를 실행할 수 있습니다.

## 스프링에서는 어떤 exception에서 롤백처리?
@Transactional

UncheckedExcption

Checked는 클라이언트에게 알려주는 성격이 있기 때문에 롤백이 일어나지 않는다


## 스프링부트
스프링부트는 스프링 프레임워크를 사용하기 위한 설정 대부분을 자동화하여 줍니다.

스타터를 이용하여 편리하게 의존성을 구성

또한 내장서버를 제공해 줍니다

## 스프링 프레임워크 
자바 플랫폼을 위한 경량의 오픈소스 애플리케이션 프레임워크

동적 웹 사이트를 개발하기 위한 다양한 서비스를 제공하여 줍니다.

## POJO
J2EE 프레임웍에 비해 특정 인터페이스 구현하거나 상속받을 필요 없음

특정 규약과 환경에 종속되지 않고 가벼운 객체

Pojo기반의 프레임웍이 스프링

## 스프링 프레임워크의 특징
* DI, Spring AOP, IOC POJO등이 있습니다

## DI
* Spring의 IOC 구현 방법
* XML 설정이나 어노테이션을 바탕으로 의존성 주입
* 객체간의 의존관계를 내부가 아닌 외부의 설정파일을 통해 정의

장점
* 의존성을 줄여준다
* 결합도 감소
* 재사용성 향상
* 유닛테스트 작성 용이

DI 유형
* 필드 주입, setter 주입 생성자 주입 이렇게 3가지

생성자주입 추천
* 컴파일 시점에 순환참조를 방지할 수 있고
* 필드 변수을 final로 선언할 수 있다


## IOC
* IOC
    * 제어의 역전이라는 뜻
    * 메서드나 객체의 호출을 개발자가 아닌 프레임워크가 제어
    * 빈 생성주기를 IoC 컨테이너가 대신 관리

빈 팩토리
* IoC 컨테이너
* 객체의 생명주기 관리, 의존성 주입 등 수행

## ApplicationContext
BeanFactory를 상속받아 

추가적인 기능 제공

미리 빈을 생성해 놓아 빈이 필요할 때 즉시 사용할 수 있도록 보장합니다

## 컨테이너?
프레임웍 내부 인스턴스의 생명주기를 관리

생성된 인스턴스들에게 추가적인 기능을 제공합니다

## IOC 컨테이너
빈 라이브사이클 관리 해주는 컨테이너

Bean 펙토리, ApplicationContext(메시지 다국화, 리소스 로딩 등 여러 기능을 제공합니다)

## 빈 생명주기
IoC컨테이너 생성 -> 스프링 빈 생성 -> 의존관계 주입 -> 초기화 콜백 메소드 호출 -> 소멸 -> 소멸 콜백 메소드 호출 -> 스프링 종료

스프링 컨테이너 초기화 시, 

설정이나 어노테이션을 통한 빈 객체 생성

의존성 주입

초기화

컨테이너 종료시 소멸

## 빈 등록방법
Component scan 스프링부트는 @SpringBootApplication 어노테이션을 통해 자동으로 구성


## AOP
스프링 프레임워크의 핵심 요소 중 하나로 

관점지향 프로그래밍을 의미합니다

핵심로직과 부가기능을 분리시켜주는 프로그래밍 기법

객체지향으로는 핵심기능에서 부가기능 분리하기 어렵운 문제점을 AOP가 해결해 줍니다.

대표적으로 로깅, 트랜잭션이 있습니다

Spring AOP
* 동적 프록시 기반
* 타겟 객체에 대한 호출을 가로체어 
* 부가기능을 수행하고, 타겟의 기능을 호출
* 혹은 타겟의 기능 실행 후 부가기능 수행도 가능

AspectJ
* JVM에 올라갈 때 타겟을 바이트코드로 변환 후 마치 하나의 코드인것처럼 끼워넣습니다

Aspect
* 모듈화된 공통 부가기능

Advice
* 타겟에게 제공할 부가기능을 담은 실질적 구현체

Target
* 클래스 어노테이션 등 부가기능을 부여할 대상

JoinPoint
* Advice가 적용될 위치

PointCut
* 어드바이스가 실행될 시점 

## OOP와 AOP
OOP는 공통 기능을 적용하기 위한 방법으로 상속을 사용하는데

다중상속, 핵심로직과 공통기능의 코드가 섞여있으면 유지보수에 좋지 않습니다.

AOP를 이용하여 핵심기능과 부가기능을 분리하여 더 OOP적으로 개발할 수 있도록 도와줍니다.

## Spring 동작 방식
1. DispacherServlet이 브라우저로부터 요청을 받으면
2. HandlerMapping 을 통해 알맞은 Controller를 찾아 연결
3. Controller는 비지니스 로직을 처리하고, 결과를 Model에 저장하여, viwe 이름 반환
4. 디스페처서블릿은 view resolver를 통하여 view 객체를 얻어
5. View객체를 통해 화면에 표시를 의뢰합니다
6. View객체는 해당하는 뷰를 호출하여 화면을 표시하게 됩니다. 

## 프레임워크 라이브러리 차이
라이브러리는 개발을 위해 여러 기능을 제공

프레임웍은 기능과 제어

## 스프링 빈 스코프

## 빈
스프링 컨테이너가 생명주기를 관리하는 인스턴스

* 빈 스코프
    * 빈이 사용되어지는 범위
    * 빈 스코프는 기본적으로 싱글톤
    * 매번 새로 생성하거나 할 수도 있다


## 빈 생명주기
생성 주입 소멸

## @Controller, @Service, @Repository 차이
controller, service, repository 각 계층의 역할에 따라 분류

기능의 차이는 없지만, 스프링 관련 작업 예외를 알려줄 수 있다

## @Autowired, @Resource, @Inject 차이점
셋다 빈을 주입하지만

* autowired
    * Spring에서 제공합니다
    * 타입, 이름, Qualifer 순으로 의존성을 찾습니다
* Resource
    * java에서 지원, 프레임워크에 종속적이지 않습니다
    * 이름, 타입, Qualifer 순으로 의존성을 찾아 주입하여 줍니다
* Inject    
    * 자바에서 지원하는 어노테이션으로 프레임웍에 종속적이지 않습니다
    * 타입 Q, 이름 의존성을 찾습니다

## Qualifier
동일한 타입을 가진 빈이 있다면 스프링에서 예외를 발생시킵니다

Q를 통하여 주입받을 빈을 지정할 수 있습니다

## MVC패턴
Model view controller로 나누어 개발


## Spring MVC 라이프 사이클
DispacherServlet과 viewResolver, HandlerMappping, Interceptor, viewResolver

## DispacherServlet
HTTP 프로토콜로 들어오는 요청을 가장 먼저 받아 공통기능을 처리하고 적합한 컨트롤러에게 전달해주는 프론트 컨트롤러



## Servlet
동적 웹 페이지를 만들 때 사용하는 자바 기반 웹 애플리케이션 기술

웹 요청과 응답을 간단한 메소드 호출만으로 다룰 수 있게 해줍니다

브라우저에서 요청이 있으면 해당 기능을 수행 후 브라우저에 결과를 전송하는 역할을 합니다

자바 스레드를 이용하고 MVC 패턴에서 컨트롤러로 이용됩니다

## interceptor
디스페처서블릿으로부터 controller오는 HTTPRequest나 HTTPResponse를 가로챕니다

인증이나 인가를 처리할 수 있습니다


## filter, interceptor, aop 차이점
참고로 filter - dispacherServlet - interceptor - aop

filter는 WebContext의 영향아래에 있으며 스프링 프레임워크의 영향 아래 있지 않다.

보통 보안, 인코딩 같은 전역적으로 처리해야 하는 로직을 filter에서 처리하게 됩니다

인터셉터는 스프링이 제공하는 기술로, 디스패처 서블릿 전후에 요청과 응답을 참조하거나 가공 가능

인증이나 권한등을 처리합니다

## Spring Annotation

## RestController
해당 컨트롤러의 메서드들은 ㅡview가 아닌 Json 형태의 데이터를 반환하여 줍니다.

@Controller와 @ResponseBody를 합친 것


## 스프링 싱글톤
빈은 기본적으로 싱글톤으로 관리됩니다

자바의 싱글톤은
* 상속불가
* 멀티스레드 환경에서 싱글톤 보장하지 못하는 등의 문제가 있습니다

그래서 스프링은 싱글톤 형태의 객체를 만들고 관리하는 기능을 제공하는데 이것이 **싱글톤 레지스트리** 입니다

**싱글톤 레지스트리**를 통하여
* static 메소드나 private 생성자 등 없이 객체지향적인 개발이 가능하고
* 테스트 하기 편리하다는 장점이 있습니다

무상태성을 가져야 함


## Rest
HTTP URI를 통하여 자원을 명시하고 HTTP 메소드를 통해 자원을 제어합니다

## Restful API
Rest의 제약을 따르는 API

* 서버와 클라이언트를 명확하게 분리하여주고
* 클라이언트가 독립적으로 진화할 수 있게 해줍니다
* 의도하는 바를 쉽게 파악할 수 있습니다
* 




