# serverless
개발자가 직접관리하지 않는 서버

백엔드를 작은 함수단으로 쪼개서 직접 관리하지 않는 서버(lambda 등)로 올린다.

평소에는 람다가 대기상태로 있다 요청이 들어오면 wake하여 사용자의 요청을 처리하고 일정 기간 후 다시 대기상태로 들어갑니다

수행한 함수만큼만 비용을 지불하면 되기 때문에 경제적입니다.

프로비저닝 처리를 자동으로 수행하기 때문에 자동 scale out 수행

## 단점
* cold start
    * 대기 중이던 람다가 깨어나는데 약간의 시간이 필요하다
    * 대기상태에 들어가지 않게 항상 대기하도록 하는 옵션도 있다고 한다
* 서버 프로바이더와 의존성이 깊어진다

## 서버리스 추천
* 사이드 프로젝트
* 빠르게 프로토타입

## API Gateway
API 서버 앞단에서 모든 API 서버들의 엔드포인트를 단일화하여 묶어주고 API에 대한 인증, 인가, 라우팅, 프로토콜이나 포맷 변환 등 여러 기능을 담당합니다.

## AWS Lambda
서버리스 컴퓨팅 서비스

이벤트 발생 시 사용자가 미리 정의한 코드가 알아서 실행되게 됩니다.

scale out이 함수 단위로 실행되고, cloudwatch에 로그가 쌓여 로깅 및 모니터링이 유용합니다

함수를 호출한 만큼만 비용이 부과되는 서비스입니다.

### AWS Lambda and RDBMS
람다가 실행될 때마다 connection을 맺어주면, 과도한 connection 생성으로 rds connection 제한에 도달하거나, 람다가 종료되도 명시적으로 connection 종료를 확인받지 못해 memory leak 이 발생한다