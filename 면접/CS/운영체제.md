# 운영체제?
시스템의 자원과 동작을 효율적으로 관리하는 소프트웨어

user interface 제공, 자원 관리, 프로세스와 스레드 관리의 역할을 합니다.

System call Interface, Kernel, Resource Management로 구성되어있습니다.

* System call 
    * 운영체제에서 사용자가 사용할 수 있는 기능들을 모아놓은 인터페이스
* Kernel
    * 자원관리, 하드웨어 관리 등 실질적인 OS 기능들

## 운영체제 구조
* 커널(Kernel)
    * 메모리에 상주하며 processor, memory등 시스템을 관리하여 줍니다
    * OS의 핵심 부분
        * 메모리에 상주한다
        * 가장 빈번하게 사용되는 기능들 담당
        * 시스템 관리(processor, memory 등)
* 유틸리티
    * 비상주 프로그램
    * UI 등 서비스 프로그램

하드웨어로부터 입력받는 커널, 커널의 인터페이스인 system calls, 그 위에 유틸리티

## 운영체제 기능
* 프로세스 관리
    * 커널에 등록된 실행 단위
        * 실행 중인 프로그램을 의미
    * 사용자 요청/프로그램의 수행 주체(entity)
* OS의 프로세스 관리 기능
    * 생성/삭제, 상태관리
    * 자원할당
    * 프로세스 간 통신 및 동기화
    * 교착상태(deadlock) 해결
        * 여러 프로세스가 하나의 자원에 동시에 접근하는 것
* 프로세스 정보 관리
    * PCB

* 프로세서 관리
* 프로세서란? 중앙처리장치(CPU)
    * 프로그램을 실행하는 핵심 자원
* 프로세스 스케줄링(Scheduling)
    * 시스템 내의 프로세스 처리 순서 결정
* 프로세서 할당 관리
    * 프로세스들에 대한 프로세서 할당
    * 한 번에 하나의 프로세스만 사용 가능


* 메모리 관리
* 주기억장치를 의미
    * 작업을 위한 프로그램 및 데이터를 올려 놓는 공간
* Multi-tasking
    * 프로세스에 대한 메모리 할당 및 회수
    * 메모리 여유 공간 관리
* 메모리 할당 방법
    * 일부 적재(virtual memory concept)
        * 프로그램 및 데이터의 일부만 적재
        * 메모리 효율적 활용

## 프로세스
실행을 위해 커널에 등록되어 메모리를 할당 받은 프로그램

처리가 필요한 프로그램과 필요한 데이터를 하나의 Job이라고 한다.

이것을 시스템에 처리해달라고 요청하는데 그렇게 등록된 Job을 Process라 한다.

* PCB(Process Control Block)
    * OS가 프로세스 관리에 필요한 정보 저장공간
    * 프로세스 생성 시, 커널에 PCB가 생성 됨

### 프로세스 상태
* Create
    * 프로그램이 커널에 등록되어 메모리를 할당받은 상태
* Active
    * Ready : 기타자원
    * Running : 기타자원, 프로세서
        * Ready에서 running으로 바뀌는 것을 **dispatch**라 한다.
    * Blocked, asleep : 암것도없음
        * Running에서 Blocked로 가는 것을 **인터럽트**라고 함
* Suspended
    * 메모리가 없음
* terminated
    * 수행이 끝난 상태
    * 모든 자원이 반납되고 일부 PCB 정보만 남은 상태

### Context Switching(문맥 교환)
* Context
    * 프로세스와 관련된 정보들의 집합
        * CPU 레지스터 혹은 PCB, stack 등 메모리에 있다
* Context switching 
    * 실행중인 프로세스의 context를 저장하고, 앞으로 실행 할 프로세스의 context를 복구하는 일
    * context를 PCB에 저장한다
    * 커널이 한다

context switching은 비용이 소모되는 작업이고 자주 일어나게 된다.

가능하면 줄이는 것이 좋다. 대표적으로 스레드를 사용하여 줄일 수 있다.

## 자원(Resource)
커널의 관리 하에 프로세스에게 할당/반납 되는 수동적 개체

H/W 자원과, S/W 자원이 있다

## 프로세스와 스레드
* 스레드
    * 프로세스의 자원을 제어
    * 여러 개 있을 수 있다


### 계층 구조
OS는 계층구조를 띈다?

## 프로세서
* 컴퓨터의 두뇌(중앙처리장치)
    * 연산 수행
    * 컴퓨터의 모든 장치의 동작을 제어합니다


## 메모리 구조
크게 4가지로 나눠진다. 

Code, Data, Heap, Stack


## 프로그램 실행 과정
![](https://i.imgur.com/fbzJjII.png)

사용자가 프로그램 실행요청을 하면 OS가 그것을 받아 보조기억장치에서 필요한 정보를 읽어 메모리에 로드합니다.

CPU는 프로그램 코드를 가져다 메모리를 관리하고 명령문을 실행합니다.





















# 출처
https://jinshine.github.io/2018/05/17/%EC%BB%B4%ED%93%A8%ED%84%B0%20%EA%B8%B0%EC%B4%88/%EB%A9%94%EB%AA%A8%EB%A6%AC%EA%B5%AC%EC%A1%B0/
