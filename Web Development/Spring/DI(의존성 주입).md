# DI(의존성 주입)
각 클래스간의 의존관계를 빈 설정(Bean Definition)(ex. XML, annotation) 정보를 바탕으로 컨테이너가 자동으로 연결해주는 것을 말한다.

* 개발자는 단지 빈 설정파일에서 의존관계가 필요하다는 정보를 추가하면 된다
* 객체 레퍼런스를 컨테이너로부터 주입 받아, 실행 시에 동적으로 의존관계가 생성된다
* 컨테이너가 흐름의 주체가 되어 애플리케이션 코드에 의존관계를 주입해 주는 것이다

# 의존성이란?
함수 또는 클래스가 작동하기 위해서 다른 객체를 필요로 할 때 의존성을 가진다고 한다.

결합도가 높은 상태로써 코드의 재활용성이 떨어지고, 유닛 테스트 작성이 어렵고, 한 객체를 수정했을 때 다른 객체도 수정해줘야하는 문제가 발생할 수 있다

# DI를 했을 때 얻는 이점
1. 코드의 재사용 가능성을 높인다
2. 유닛 테스트 작성이 용이해진다
3. 객체 간의 의존성을 줄여준다
4. 객체 간의 결합도를 낮춰 유연한 코드를 작성할 수 있다 

# DI의 유형
Setter Injection, Constructor Injection, Method Injection으로 나뉜다

## Setter Injection
Setter 메서드를 이용한 의존성 삽입, 의존성을 입력 받는 setter 메서드를 만들고 이를 통해 의존성을 주입한다.

한번에 하나의 의존성밖에 받을 수 없다.

## Constructor Injection 
생성자를 이용한 의존성 삽입, 필요한 의존성을 포함하는 클래스의 생성자를 만들고 이를 통해 의존성을 주입한다.

한번에 여러 개의 의존성을 받을 수 있다.

## Method Injection 
의존성을 입력 받는 일반 메서드를 만들고 이를 통해 의존성을 주입한다.

## DI를 이용한 클래스 호출 방식
![](https://t1.daumcdn.net/cfile/tistory/999E4A3C5C5A75BB27)
클래스가 구현클래스를 사용한다면 바로 구현클래스를 사용하는 것이 아닌 구현 클래스의 상위 인터페이스를 만들어 놓고 클래스가 인터페이스를 사용하도록 한다. 

구현클래스에 관한 정보는 XML(설정파일)에 기술해 놓는다. 그러면 컨테이너가 설정파일 정보를 읽어 구현 객체를 생성해 주고 클래스에 의존성을 주입해 준다.

# Spring DI 컨테이너의 개념 
Spring DI 컨테이너가 관리하는 객체를 빈(bean)이라고 하고, 이 빈들을 관리한다는 의미로 컨테이너를 빈 팩토리(Bean Factory)라고 부른다.

* 객체의 생성과 객체 사이의 런타임 관계를 DI관점에서 볼 때는 컨테이너를 BeanFactory라고 한다

* Bean Factory에 여러 가지 컨테이너 기능을 추가하여 어플리케이션 컨텍스 라고 부른다

실제로 Spring에는 Bean Factory 인터페이스와 Application Context라는 인터페이스가 있다.

## BeanFactory
* Bean을 등록, 생성, 조회, 반환 관리한다
* 보통은 Bean Factory를 바로 사용하지 않고, 이를 확장한 Application Context를 사용한다.
* getBean() 메서드가 정의되어 있다.

## Application Context
* Bean을 등록, 생성, 조회, 반환 관리하는 기능은 BeanFactory와 같다.
* Spring의 각종 부가 서비스를 추가로 제공한다.
* Spring이 제공하는 Application Context 구현 클래스가 여러 가지 종류가 있다.
* 궁극적으로는 Application Context가 DI 컨테이너 역할을 한다.



