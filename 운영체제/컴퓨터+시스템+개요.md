# 운영체제
컴퓨팅 자원들을 효율적으로 관리해서 사용자나 응용 프로그램에게 서비스를 제공해주는 소프트웨어.


# 컴퓨터 하드웨어 
프로세서, 메모리, 주변장치로 나뉜다. 

# 프로세서 
중앙처리장치로 연산수행, 컴퓨터의 모든 장치의 동작 제어역할을 한다.

cpu는 데이터 부분인 레지스터, 연산장치  
제어부분인 제어장치로 나뉜다.

## 레지스터
* 프로세서 내부에 있는 메모리
    * 프로세서가 사용할 데이터 저장
    * 컴퓨터에서 가장 빠른 메모리

* 레지스터 종류
    * 용도 
    * 정보 변경 가능 여부 
        * 사용자 가시, 불가시 레지스터로 나뉜다
    * 저장하는 정보의 종류 


### 사용자 가시 레지스터 
* 데이터 레지스터 
    * 데이터 저장
* 주소 레지스터
    * 주소 저장

### 사용자 불가시 레지스터 
* 프로그램 카운터 
    * 다음에 실행할 명령어 위치 저장
* 명령어 레지스터
    * 현재 실행하는 명령어를 보관하는 레지스터
* 누산기 
    * 계산하는 데이터를 일시적으로 저장하는 레지스터


# 운영체제와 프로세서
운영체제는 프로세서에게 처리할 작업을 할당하고 관리한다. 

* 프로세스 생성 및 관리

프로그램의 프로세서 사용을 제어한다.

* 프로그램의 프로세서 사용 시간 관리
* 복수 프로그램간 사용 시간 조율 등


# 메모리 
데이터를 저장하는 장치(기억장치)

* 프로그램(os, sw 등), 사용자 데이터 등을 저장

## 메모리 종류
cpu에 가까운 순으로 레지스터, 캐시, 메인 메모리, 보조기억장치

가까울수록 비용적 빠름, 멀수록 비용 많고 느림


## 주기억장치(메인메모리)
* 프로세서가 수행할 프로그램과 데이터 저장
* DRAM을 주로 사용
    * 용량이 크고, 가격이 저렴
* 디스크 입출력 병목현상(I/O bottleneck) 해소

프로세서가 디스크까지 접근 못하기 때문에 반드시 메인에 저장한다.

프로세서와 디스크 사이의 속도 차이를 개선하기 위해 중간에 메모리를 놓아 프로세서가 작업할 내용을 미리 저장해 놓음

## 캐시
* 프로세서 내부에 있는 메모리
    * 속도가 빠르고 가격이 비쌈
* 메인 메모리의 입출력 병목현상 해소

메인 메모리와 프로세서 사이의 속도차이 개선을 위해 중간에 캐시를 놓음


## 캐시의 동작
일반적으로 H/W적으로 관리됨

프로세서가 캐시에 데이터 있는지 확인 -> 없으면 캐시가 메인 메모리로부터 데이터 가져옴 -> 프로세서에게 가져온 데이터 전달

* 필요한 데이터 블록이 있으면 캐시 히트(cache hit)
* 없으면 캐시 미스(cache miss) 

캐시가 적은 용량에도 불구하고 빠른 속도가 나오는 것은 지역성과 관련이 높다.

### 지역성(Locality)
* 공간적 지역성(spatial locality)
    * 참조한 주소와 인접한 주소를 참조하는 특성
    * 어떤 주소를 참조하면 다음에 그 근처를 참조할 가능성이 높다 
* 시간적 지역성 (Temporal locality)
    * 한 번 참조한 주소를 곧 다시 참조하는 특성
    * 참조한 곳 또 참조할 가능성 높다

지역성은 캐시 적중률(cache hit ratio)과 밀접하게 연관되어 있다.  
성능 향상을 위한 중요한 요소 중 하나이다.


캐시가 메모리부터 어떤 데이터를 읽어올 때는 그 라인의 데이터를 같이 같고 오는데 그것을 캐시 라인(블록)이라 한다.

그럼으로 공간적 지역성이 효과를 본다.


## 보조기억 장치
* 프로그램과 데이터를 저장
* 프로세서가 직접 접근할 수 없다 -> 주변장치로 분류된다
    * 주기억장치를 거쳐서 접근한다
    * 프로그램의 데이터가 주기억장치 보다 큰경우가 있다
        * 디스크의 일부를 가상 메모리로 사용하여 준다
* 용량이 크고, 가격이 저렴하다




